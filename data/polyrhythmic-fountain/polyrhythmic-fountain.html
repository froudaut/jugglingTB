<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <script type="text/javascript" src="polyrhythmic-fountain_fichiers/jquery-2.js"></script>
  <script type="text/javascript" src="polyrhythmic-fountain_fichiers/bootstrap-slider.js"></script>
  <link rel="stylesheet" type="text/css" href="polyrhythmic-fountain_fichiers/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="polyrhythmic-fountain_fichiers/bootstrap-slider.css">
</head>

<body onload="update()">

  <div class="container">
    <div class="row">
      <div class="col-md-6" id="io">
        <h1>Polyrhythmic Fountain</h1>
        <div>
          Left Hand Beats: <input type="text" style="width: 300px;" id="left" onchange="update()" value="0,30,60,90"><br>
          Right Hand Beats: <input type="text" style="width: 300px;" id="right" onchange="update()" value="0,40,80"><br>
          Measure Length: <input type="text" id="period" onchange="update()" value="120"><br>
          <div> Animation speed </div>
          <div class="slider slider-horizontal" id=""><div class="slider-track"><div class="slider-track-low" style="left: 0px; width: 0%;"></div><div class="slider-selection" style="left: 0%; width: 23.0769%;"></div><div class="slider-track-high" style="right: 0px; width: 76.9231%;"></div><div class="slider-handle min-slider-handle round" role="slider" aria-valuemin="1" aria-valuemax="40" style="left: 23.0769%;" aria-valuenow="10" tabindex="0"></div><div class="slider-handle max-slider-handle round hide" role="slider" aria-valuemin="1" aria-valuemax="40" style="left: 0%;" aria-valuenow="1" tabindex="0"></div></div><div class="tooltip tooltip-main top" role="presentation" style="left: 23.0769%; margin-left: -14.5px;"><div class="tooltip-arrow"></div><div class="tooltip-inner">10</div></div><div class="tooltip tooltip-min top" role="presentation"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div><div class="tooltip tooltip-max bottom" role="presentation" style="top: 18px;"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div><input id="animation_speed" type="text" data-slider-min="1" data-slider-max="40" data-slider-step="1" data-slider-value="10" style="display: none;" data-value="10" value="10">
          <hr>
          <button onclick="doRandomNicely()" type="button">Randomize Nicely</button>
          <button onclick="doRandomArhythmically()" type="button">Randomize Arhythmically</button>
          <hr>

          <div> Presets for common ratios (Click to load one) </div>
          <table style="width:100%   border: 1px solid black; ">
            <tbody><tr>
              <th> </th>
              <th> <button onclick="doRatio(1,2)" type="button" id="1/2">1/2</button> </th>
              <th> <button onclick="doRatio(1,3)" type="button" id="1/3">1/3</button> </th>
              <th> <button onclick="doRatio(1,4)" type="button" id="1/4">1/4</button> </th>
              <th> <button onclick="doRatio(1,5)" type="button" id="1/5">1/5</button> </th>
              <th> <button onclick="doRatio(1,6)" type="button" id="1/6">1/6</button> </th>
            </tr>
            <tr>
              <th> <button onclick="doRatio(2,1)" type="button" id="2/1">2/1</button> </th>
              <th>  </th>
              <th> <button onclick="doRatio(2,3)" type="button" id="2/3">2/3</button> </th>
              <th> <button onclick="doRatio(2,4)" type="button" id="2/4">2/4</button> </th>
              <th> <button onclick="doRatio(2,5)" type="button" id="2/5">2/5</button> </th>
              <th> <button onclick="doRatio(2,6)" type="button" id="2/6">2/6</button> </th>
            </tr>
            <tr>
              <th> <button onclick="doRatio(3,1)" type="button" id="3/1">3/1</button> </th>
              <th> <button onclick="doRatio(3,2)" type="button" id="3/2">3/2</button> </th>
              <th>  </th>
              <th> <button onclick="doRatio(3,4)" type="button" id="3/4">3/4</button> </th>
              <th> <button onclick="doRatio(3,5)" type="button" id="3/5">3/5</button> </th>
              <th> <button onclick="doRatio(3,6)" type="button" id="3/6">3/6</button> </th>
            </tr>
            <tr>
              <th> <button onclick="doRatio(4,1)" type="button" id="4/1">4/1</button> </th>
              <th> <button onclick="doRatio(4,2)" type="button" id="4/2">4/2</button> </th>
              <th> <button onclick="doRatio(4,3)" type="button" id="4/3" style="background-color:#86b3b1">4/3</button> </th>
              <th> </th>
              <th> <button onclick="doRatio(4,5)" type="button" id="4/5">4/5</button> </th>
              <th> <button onclick="doRatio(4,6)" type="button" id="4/6">4/6</button> </th>
            </tr>
            <tr>
              <th> <button onclick="doRatio(5,1)" type="button" id="5/1">5/1</button> </th>
              <th> <button onclick="doRatio(5,2)" type="button" id="5/2">5/2</button> </th>
              <th> <button onclick="doRatio(5,3)" type="button" id="5/3">5/3</button> </th>
              <th> <button onclick="doRatio(5,4)" type="button" id="5/4">5/4</button> </th>
              <th>  </th>
              <th> <button onclick="doRatio(5,6)" type="button" id="5/6">5/6</button> </th>
            </tr>
            <tr>
              <th> <button onclick="doRatio(6,1)" type="button" id="6/1">6/1</button> </th>
              <th> <button onclick="doRatio(6,2)" type="button" id="6/2">6/2</button> </th>
              <th> <button onclick="doRatio(6,3)" type="button" id="6/3">6/3</button> </th>
              <th> <button onclick="doRatio(6,4)" type="button" id="6/4">6/4</button> </th>
              <th> <button onclick="doRatio(6,5)" type="button" id="6/5">6/5</button> </th>
              <th> </th>
            </tr>
          </tbody></table>
          <hr>
          <p style="font-size:30px" id="err"></p>
        </div>

        <hr>
      </div>
      <div class="col-md-6" id="io">
        <canvas id="canvas" style="border:1px solid #000000;" width="350px" height="600px"></canvas>
      </div>
    </div>
  </div>


<script src="polyrhythmic-fountain_fichiers/anim.js"></script>
<script>
window.onload = function() {
  $("#animation_speed").slider({
    value: 10
  });
  $("#animation_speed").on("change", function(slideEvt) {
    pace = slideEvt.value.newValue / 10;
  });
  doRandomNicely();
  StartAnimation();
}
function update() {
  let left = document.getElementById("left").value;
  let right = document.getElementById("right").value;
  let period = document.getElementById("period").value;
  
  updateAnimation(left, right, +period);
}
</script>



</body></html>
